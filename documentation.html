<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - ELMA AquaDetect</title>
    
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: #ffffff;
            color: #1d1d1f;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .documentation-wrapper {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Styles */
        .doc-sidebar {
            width: 260px;
            background: #fafafa;
            border-right: 1px solid #e5e5e7;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }
        
        .doc-sidebar::-webkit-scrollbar {
            width: 6px;
        }
        
        .doc-sidebar::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .doc-sidebar::-webkit-scrollbar-thumb {
            background: #d1d1d6;
            border-radius: 10px;
        }
        
        .doc-sidebar::-webkit-scrollbar-thumb:hover {
            background: #b0b0b5;
        }
        
        .doc-sidebar-header {
            padding: 2rem 1.5rem 1.5rem;
            border-bottom: 1px solid #e5e5e7;
            background: #ffffff;
        }
        
        .doc-sidebar-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 0.25rem;
            letter-spacing: -0.02em;
        }
        
        .doc-sidebar-subtitle {
            font-size: 0.8125rem;
            color: #86868b;
            font-weight: 400;
        }
        
        .doc-nav {
            list-style: none;
            padding: 1rem 0.75rem;
        }
        
        .doc-nav-item {
            margin-bottom: 0.125rem;
        }
        
        .doc-nav-link {
            display: flex;
            align-items: center;
            gap: 0.625rem;
            padding: 0.5rem 0.75rem;
            color: #1d1d1f;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 6px;
            letter-spacing: -0.01em;
        }
        
        .doc-nav-link:hover {
            background: #f5f5f7;
            color: #0066cc;
        }
        
        .doc-nav-link.active {
            background: #e8e8ed;
            color: #0066cc;
            font-weight: 500;
        }
        
        .doc-nav-icon {
            font-size: 1rem;
            min-width: 18px;
            opacity: 0.7;
        }
        
        .doc-nav-link.active .doc-nav-icon,
        .doc-nav-link:hover .doc-nav-icon {
            opacity: 1;
        }
        
        /* Main Content Styles */
        .documentation-container {
            flex: 1;
            margin-left: 260px;
            background: #ffffff;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 1.125rem;
            background: #f5f5f7;
            color: #0066cc;
            text-decoration: none;
            border-radius: 980px;
            font-weight: 500;
            font-size: 0.875rem;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            margin: 2rem 0 0 3rem;
        }
        
        .back-button:hover {
            background: #e8e8ed;
        }
        
        .doc-header {
            padding: 4rem 3rem 3rem;
            max-width: 880px;
            margin: 0 auto;
            border-bottom: 1px solid #e5e5e7;
        }
        
        .doc-title {
            font-size: 3rem;
            color: #1d1d1f;
            margin: 0 0 0.75rem 0;
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 1.1;
        }
        
        .doc-subtitle {
            font-size: 1.25rem;
            color: #86868b;
            margin: 0;
            font-weight: 400;
            letter-spacing: -0.01em;
        }
        
        .doc-section {
            margin-bottom: 4rem;
            padding: 0 3rem;
            max-width: 880px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .doc-section:first-of-type {
            padding-top: 3rem;
        }
        
        .doc-section h2 {
            font-size: 2rem;
            color: #1d1d1f;
            margin: 0 0 1.5rem 0;
            font-weight: 700;
            letter-spacing: -0.02em;
            line-height: 1.2;
        }
        
        .doc-section h3 {
            font-size: 1.5rem;
            color: #1d1d1f;
            margin: 2.5rem 0 1rem 0;
            font-weight: 600;
            letter-spacing: -0.02em;
        }
        
        .doc-section h4 {
            font-size: 1.125rem;
            color: #1d1d1f;
            margin: 1.5rem 0 0.75rem 0;
            font-weight: 600;
        }
        
        .doc-section p {
            color: #515154;
            font-size: 1.0625rem;
            line-height: 1.7;
            margin: 0 0 1.25rem 0;
        }
        
        .doc-section ul {
            color: #515154;
            font-size: 1.0625rem;
            line-height: 1.7;
            margin: 1.25rem 0;
            padding-left: 1.5rem;
        }
        
        .doc-section li {
            margin-bottom: 0.75rem;
        }
        
        .doc-section strong {
            color: #1d1d1f;
            font-weight: 600;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .feature-card {
            padding: 1.75rem;
            background: #fafafa;
            border: 1px solid #e5e5e7;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .feature-card:hover {
            background: #f5f5f7;
            border-color: #d1d1d6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .feature-card h4 {
            margin: 0 0 0.75rem 0;
            color: #1d1d1f;
            font-size: 1.0625rem;
            font-weight: 600;
        }
        
        .feature-card p {
            margin: 0;
            font-size: 0.9375rem;
            color: #86868b;
            line-height: 1.6;
        }
        
        .highlight {
            background: #f5f5f7;
            padding: 0.1875rem 0.5rem;
            border-radius: 6px;
            color: #0066cc;
            font-weight: 500;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.9375rem;
        }
        
        .doc-section table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #e5e5e7;
            border-radius: 8px;
            overflow: hidden;
            margin: 1.5rem 0;
        }
        
        .doc-section table thead tr {
            background: #f5f5f7;
        }
        
        .doc-section table th {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #e5e5e7;
            font-weight: 600;
            color: #1d1d1f;
            font-size: 0.9375rem;
        }
        
        .doc-section table td {
            padding: 0.75rem;
            border: 1px solid #e5e5e7;
            color: #515154;
            font-size: 0.9375rem;
        }
        
        .doc-section table tbody tr:nth-child(even) {
            background: #fafafa;
        }
        
        .doc-section table tbody tr:hover {
            background: #f5f5f7;
        }
        
        .doc-footer {
            text-align: center;
            padding: 3rem;
            background: #fafafa;
            border-top: 1px solid #e5e5e7;
            margin-top: 4rem;
        }
        
        .doc-footer p {
            color: #86868b;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="documentation-wrapper">
        <!-- Left Sidebar Navigation -->
        <aside class="doc-sidebar">
            <div class="doc-sidebar-header">
                <div class="doc-sidebar-title">üìö Documentation</div>
                <div class="doc-sidebar-subtitle">ELMA AquaDetect</div>
            </div>
            
            <nav>
                <ul class="doc-nav">
                    <li class="doc-nav-item">
                        <a href="#overview" class="doc-nav-link active">
                            <span>1. Vue d'ensemble</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#perimeter" class="doc-nav-link">
                            <span>2. P√©rim√®tre du PoC</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#data" class="doc-nav-link">
                            <span>3. Donn√©es utilis√©es</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#method" class="doc-nav-link">
                            <span>4. M√©thode</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#indices" class="doc-nav-link">
                            <span>5. Indices utilis√©s</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#hypotheses" class="doc-nav-link">
                            <span>6. Hypoth√®ses & param√®tres</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#limitations" class="doc-nav-link">
                            <span>7. Limitations connues</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#indicators" class="doc-nav-link">
                            <span>8. Indicateurs affich√©s</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#validation" class="doc-nav-link">
                            <span>9. Validation</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#improvements" class="doc-nav-link">
                            <span>10. Am√©liorations pr√©vues</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#glossary" class="doc-nav-link">
                            <span>11. Glossaire</span>
                        </a>
                    </li>
                    <li class="doc-nav-item">
                        <a href="#contact" class="doc-nav-link">
                            <span>12. Mentions & contacts</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <div class="documentation-container">
            <a href="index.html" class="back-button">
                ‚Üê Retour √† la plateforme
            </a>
        
            <div class="doc-header">
                <h1 class="doc-title">Documentation</h1>
                <p class="doc-subtitle">ELMA ‚Äì Gestion des eaux souterraines (PoC Berrechid)</p>
                <p style="color: #86868b; font-size: 0.875rem; margin-top: 0.5rem;">Version : 0.2.1 ‚Äî Derni√®re mise √† jour : 18/11/2025</p>
            </div>
            
            <div class="doc-section" id="overview">
                <h2>1) Vue d'ensemble</h2>
                <p>
                    La Plateforme ELMA est un d√©monstrateur (PoC) qui rend visibles les bassins
                    d'irrigation de la Nappe de Berrechid et fournit des indicateurs agr√©g√©s pour
                    appuyer le suivi de l'ABH.
                </p>
                <p>
                    Deux niveaux de r√©sultat sont affich√©s : <strong>bassins rep√©r√©s (points)</strong> et <strong>bassins
                    d√©limit√©s (polygones avec volume estim√©)</strong>.
                </p>
            </div>
            
            <div class="doc-section" id="perimeter">
                <h2>2) P√©rim√®tre du PoC</h2>
                
                <h3>Inclus</h3>
                <ul>
                    <li>Localisation des bassins d'irrigation</li>
                    <li>Estimation de surfaces/volumes pour les bassins d√©limit√©s</li>
                    <li>Indicateurs agr√©g√©s par zone/p√©riode</li>
                    <li>S√©ries pluie et niveau pi√©zom√©trique</li>
                </ul>
                
                <h3>Exclus</h3>
                <ul>
                    <li>Identification nominative</li>
                    <li>Conformit√© individuelle</li>
                    <li>Calcul du pompage √† partir de l'ET</li>
                    <li>Alertes d'infraction en temps r√©el</li>
                </ul>
                
                <p>
                    <strong>Usage</strong> : r√©sultats indicatifs n√©cessitant v√©rification terrain avant toute action
                    coercitive.
                </p>
            </div>
            
            <div class="doc-section" id="data">
                <h2>3) Donn√©es utilis√©es et mise √† jour</h2>
                
                <ul>
                    <li><strong>Imagerie Sentinel-2 (10 m)</strong> pour rep√©rage/d√©limitation.</li>
                    <li><strong>MNT (relief)</strong> pour contexte de pente.</li>
                    <li><strong>Pluviom√©trie</strong> (source ouverte agr√©g√©e) pour cumuls mensuels.</li>
                    <li><strong>Pi√©zom√©trie ABH (m/sol)</strong> pour s√©ries de niveau.</li>
                    <li><strong>R√©f√©rentiels</strong> : limites de nappe et communes.</li>
                </ul>
                
                <p>
                    <strong>Fr√©quence d'actualisation</strong> : mensuelle (imagerie et agr√©gats), selon
                    disponibilit√© des donn√©es.
                </p>
                
                <p>
                    <strong>Syst√®me de coordonn√©es</strong> : Lambert Maroc (EPSG:26191) ; exports
                    possibles en WGS84.
                </p>
            </div>
            
            <div class="doc-section" id="method">
                <h2>4) M√©thode (r√©sum√©)</h2>
                
                <ol>
                    <li>
                        <strong>Rep√©rer (points)</strong> : d√©tection multi-dates d'objets par indices spectraux et
                        deeplearning
                    </li>
                    <li>
                        <strong>D√©limiter (polygones)</strong> : lorsque l'image est nette et le contraste suffisant,
                        on trace le contour pour calculer la surface (A) sinon la d√©tection
                        s'effectue sans estimation du volume du bassin.
                    </li>
                    <li>
                        <strong>Estimer le volume (V)</strong> des bassins d√©limit√©s via : <span class="highlight">V = Œ∫ √ó A √ó h_eff</span>, avec des
                        param√®tres par d√©faut d√©finis ci-dessous.
                    </li>
                    <li>
                        <strong>Agr√©gations temporelles</strong> : indicateurs au mois (ou ann√©e) selon la p√©riode
                        choisie.
                    </li>
                    <li>
                        <strong>Qualit√©</strong> : √©chantillonnages visuels + retours terrain ABH ; les objets
                        incertains restent au statut rep√©r√©.
                    </li>
                </ol>
            </div>
            
            <div class="doc-section" id="indices">
                <h2>5) Indices utilis√©s (explications simples)</h2>
                
                <ol>
                    <li>
                        <strong>NDWI</strong> met en √©vidence l'eau : il compare la lumi√®re verte et le proche
                        infrarouge. Une valeur NDWI √©lev√©e indique g√©n√©ralement une surface d'eau stable.
                    </li>
                    <li>
                        <strong>MNDWI</strong> remplace le proche infrarouge par l'infrarouge moyen pour mieux
                        √©carter les sols sombres. En pratique, nous combinons NDWI et MNDWI pour r√©duire les faux positifs.
                    </li>
                    <li>
                        <strong>NDVI</strong> mesure la v√©g√©tation : valeurs hautes = v√©g√©tation dense, valeurs
                        basses = peu ou pas de v√©g√©tation. Un NDVI bas nous aide √† distinguer un bassin d'eau d'un champ vert.
                    </li>
                    <li>
                        <strong>Alb√©do</strong> = part de lumi√®re r√©fl√©chie par une surface : l'eau a un alb√©do
                        faible. Les b√¢ches plastiques peuvent avoir un alb√©do variable ; on croise donc alb√©do et
                        NDWI/MNDWI.
                    </li>
                    <li>
                        Nous analysons ces indices sur plusieurs dates pour √©liminer les flaques
                        temporaires apr√®s pluie.
                    </li>
                    <li>
                        Les nuages et ombres sont √©cart√©s avant calcul des indices.
                    </li>
                    <li>
                        Les objets trop petits (moins de quelques pixels) sont ignor√©s pour √©viter
                        les erreurs.
                    </li>
                    <li>
                        Si les indices restent ambigus, l'objet est class√© rep√©r√© (point), pas d√©limit√©.
                    </li>
                </ol>
            </div>
            
            <div class="doc-section" id="hypotheses">
                <h2>6) Hypoth√®ses et param√®tres (PoC)</h2>
                
                <p>
                    <strong>R√©solution spatiale</strong> : 10 m. Les petits bassins (&lt; ~100‚Äì150 m¬≤) peuvent
                    √©chapper √† la d√©tection.
                </p>
                
                <h3>Hypoth√®ses de profondeur et calcul de volume</h3>
                
                <p><strong>Ce que nous mesurons :</strong></p>
                <ul>
                    <li><strong>Aire (A)</strong> = surface du bassin au bord sup√©rieur (contour/b√¢che) issue de la d√©limitation.</li>
                    <li><strong>Profondeur utile (H)</strong> = hauteur d'eau r√©ellement stockable (on garde un franc-bord de s√©curit√© en haut).</li>
                    <li><strong>Volume (V)</strong> = V ‚âà A √ó H √ó 0,85. Le 0,85 r√©sume la forme trap√©zo√Ødale, les talus et le franc-bord.</li>
                </ul>
                
                <h3>Hypoth√®ses de forme (Berrechid)</h3>
                <ul>
                    <li><strong>Type dominant</strong> : bassin excav√© b√¢ch√©.</li>
                    <li><strong>Talus</strong> (pente des parois) : 1,5:1 (horizontal:vertical).</li>
                    <li><strong>Franc-bord</strong> (marge non stockable en haut) : 0,40 m pour pr√©venir d√©bordements (vent/pluie).</li>
                </ul>
                
                <h3>Profondeurs utiles par classe d'aire (r√®gle simple et d√©fendable)</h3>
                
                <div style="overflow-x: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>Classe</th>
                                <th>Aire segment√©e</th>
                                <th>H (profondeur utile)</th>
                                <th>Justification terrain</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>P1 ‚Äì petit</strong></td>
                                <td>A &lt; 800 m¬≤</td>
                                <td>4,0 m</td>
                                <td>Terrassement simple, s√©curit√©, co√ªt contenu</td>
                            </tr>
                            <tr>
                                <td><strong>P2 ‚Äì moyen</strong></td>
                                <td>800‚Äì2 500 m¬≤</td>
                                <td>5,0 m</td>
                                <td>Cas le plus courant, bon compromis m¬≥/dirham</td>
                            </tr>
                            <tr>
                                <td><strong>P3 ‚Äì grand</strong></td>
                                <td>A &gt; 2 500 m¬≤</td>
                                <td>6,0 m</td>
                                <td>Exploitations capitalis√©es, autonomie recherch√©e</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <p><strong>Rappel limitations :</strong></p>
                <ul>
                    <li>La profondeur n'est pas observ√©e directement par satellite : ces valeurs sont des hypoth√®ses par classe √† confirmer par mesures terrain.</li>
                    <li><strong>Facteur de forme (Œ∫)</strong> : 0,55 (talus moyens, b√¢ches fr√©quentes).</li>
                    <li><strong>R√©f√©rence pi√©zom√©trique</strong> : m/sol (NGF si fourni par l'ABH).</li>
                    <li><strong>P√©riode d'analyse</strong> : selon couverture exploitable.</li>
                </ul>
            </div>
            
            <div class="doc-section" id="limitations">
                <h2>7) Limitations connues</h2>
                
                <ul>
                    <li>
                        <strong>Sous-d√©tection possible</strong> : objets tr√®s petits, couverts, sous ombre ou
                        confondus avec structures non agricoles.
                    </li>
                    <li>
                        <strong>Nuages/saisonnalit√©</strong> : certaines p√©riodes d'image sont inutilisables, cr√©ant
                        des trous temporels.
                    </li>
                    <li>
                        <strong>Contours</strong> : bords flous ou brillants (b√¢ches) ‚Üí incertitude de surface (¬±1‚Äì2
                        pixels).
                    </li>
                    <li>
                        <strong>Volumes</strong> : d√©pendent de h_eff et Œ∫ ; tant qu'ils ne sont pas √©talonn√©s
                        localement, l'incertitude reste syst√©matique.
                    </li>
                    <li>
                        <strong>S√©ries externes</strong> (pluie/pi√©zom√©trie) : qualit√© variable selon station/source.
                    </li>
                </ul>
            </div>
            
            <div class="doc-section" id="indicators">
                <h2>8) Indicateurs affich√©s dans l'interface</h2>
                
                <ul>
                    <li>
                        <strong>Bassins d'irrigation</strong> : rep√©r√©s ‚Äî dont d√©limit√©s (volume estim√©).
                    </li>
                    <li>
                        <strong>Surface affich√©e √† l'√©cran (ha)</strong> ‚Äî somme des surfaces des polygones visibles.
                    </li>
                    <li>
                        <strong>Nombre de bassins associ√©s</strong> ‚Äî nombre de points visibles dans la zone affich√©e.
                    </li>
                    <li>
                        <strong>Historique 2D ‚Äì R√©sum√©</strong> ‚Äî √©volution annuelle du nombre de d√©limit√©s.
                    </li>
                </ul>
            </div>
            
            <div class="doc-section" id="validation">
                <h2>9) Validation et tra√ßabilit√©</h2>
                
                <ul>
                    <li>Contr√¥les visuels r√©guliers sur √©chantillons.</li>
                    <li>Contre-v√©rifications terrain ponctuelles avec l'ABH.</li>
                    <li>Chaque version indique sa date d'ingestion et sa version de mod√®le.</li>
                </ul>
            </div>
            
            <div class="doc-section" id="improvements">
                <h2>10) Am√©liorations pr√©vues</h2>
                
                <ol>
                    <li>Imagerie plus fine (‚â§1 m) sur zones prioritaires pour capter les petits bassins.</li>
                    <li>Segmentation renforc√©e (apprentissage multi-saison, corrections ABH).</li>
                    <li>√âtalonnage local de h_eff et Œ∫ par mesures de profondeur.</li>
                    <li>Ajout de la cha√Æne ET ‚Üí pompage (phase suivante).</li>
                    <li>Int√©gration InSAR (subsidence) et GRACE (tendances de masse) au niveau bassin.</li>
                    <li>API/exports normalis√©s et liens partageables de vues.</li>
                </ol>
            </div>
            
            <div class="doc-section" id="glossary">
                <h2>11) Glossaire</h2>
                
                <ul>
                    <li>
                        <strong>Bassin d'irrigation rep√©r√©</strong> : pr√©sence localis√©e (point), pas de volume.
                    </li>
                    <li>
                        <strong>Bassin d'irrigation d√©limit√©</strong> : polygone avec surface et volume estim√©.
                    </li>
                    <li>
                        <strong>Niveau pi√©zom√©trique (m/sol)</strong> : profondeur de la nappe sous le terrain naturel.
                    </li>
                    <li>
                        <strong>Œî% total</strong> : variation relative entre la premi√®re et la derni√®re ann√©e affich√©es.
                    </li>
                    <li>
                        <strong>Alb√©do</strong> : part de lumi√®re r√©fl√©chie par une surface (0 = noir, 1 = tr√®s clair).
                    </li>
                    <li>
                        <strong>NDWI</strong> : Normalized Difference Water Index ‚Äî indice de d√©tection d'eau.
                    </li>
                    <li>
                        <strong>MNDWI</strong> : Modified Normalized Difference Water Index ‚Äî version modifi√©e de NDWI.
                    </li>
                    <li>
                        <strong>NDVI</strong> : Normalized Difference Vegetation Index ‚Äî indice de v√©g√©tation.
                    </li>
                </ul>
            </div>
            
            <div class="doc-section" id="contact">
                <h2>12) Mentions & contacts</h2>
                
                <p>
                    <strong>Responsable</strong> : ELMA Water Technologies ‚Äî Usage PoC, r√©sultats indicatifs.
                </p>
                <p>
                    <strong>Contact support</strong> : contact@elmawatertech.com
                </p>
                <p>
                    <strong>Cr√©dits donn√©es</strong> : Copernicus Sentinel-2, pluviom√©trie sources ouvertes,
                    pi√©zom√©trie ABH.
                </p>
            </div>
            
            <div class="doc-footer">
                <p>¬© 2025 ELMA AquaDetect ¬∑ Plateforme de gestion des ressources en eau</p>
            </div>
        </div>
    </div>
    
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('.doc-nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all links
                document.querySelectorAll('.doc-nav-link').forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // Get target section
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Update active link on scroll
        const sections = document.querySelectorAll('.doc-section');
        const navLinks = document.querySelectorAll('.doc-nav-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                
                if (window.pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
